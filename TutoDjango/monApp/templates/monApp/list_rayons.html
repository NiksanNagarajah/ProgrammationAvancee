{% extends 'monApp/base.html' %}

{% block title %}Mes Rayons{% endblock %}

{% block menu %}
    <h1>{{ titremenu }}</h1>
{% endblock %}

{% block contenu %}
    <h1>Hello mes rayons !</h1>
    <!-- Barre de recherche -->
    <p class="lead mb-3 ml-0">Rechercher un élément...</p>
    <form style="display: flex; align-items: center;" method="GET" action="">
        <input class="form-control" type="text" name="search" placeholder="Tapez ici votre recherche" value="{{ request.GET.search }}">
        <button type="submit" class="btn btn-success mt-2">Rechercher</button>
    </form>
    <p>Mes rayons sont :</p>
    <table class="table">
        <thead>
            <th>Id</th>
            <th>Nom rayon</th>
            <th>Valeur marchande du rayon</th>
            <th colspan="3" style="text-align: center;">Action</th>
        </thead>
        <tbody>
            {% for data in ryns_dt %}
            <tr>
                <td>{{ data.rayon.idRayon }}</td>
                <td>{{ data.rayon.nomRayon }} </td>
                <td>{{ data.total_stock }} €</td>
                <td>
                    <a href="{% url 'dtl_rayon' data.rayon.idRayon %}" class="btn btn-primary mt-2">Détails</a>
                    <a href="{% url 'rayon-chng' data.rayon.idRayon %}" class="btn btn-warning mt-2">Modifier</a>
                    <a href="{% url 'dlt-rayon' data.rayon.idRayon %}" class="btn btn-danger mt-2">Supprimer</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <h1>Pour créer un nouveau statut cliquer <a href="{% url 'crt-rayon' %}">ici</a>.</h1>

    <p>
        J'ai
        {% if rayons|length < 5 %} 
            peu de 
        {% elif rayons|length < 10 %} 
            quelques 
        {% else %} 
            beaucoup de 
        {% endif %}
            rayons. 
    </p>
{% endblock %}


